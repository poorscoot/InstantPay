{"version":3,"sources":["logo.png","Components/Home.js","Components/Login.js","Components/SignUp.js","Components/AccountsBBVA.js","Components/AccountsSantander.js","Components/AccountsManager.js","Components/Bank.js","Components/BankTransactions.js","Components/BanksManager.js","Components/Transactions.js","Components/Main.js","Components/Payment.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Home","props","state","JSON","parse","this","logged","window","location","href","prevProps","prevState","snapshot","type","to","React","Component","Login","onLogin","bind","errorpwd","values","setState","hashed_password","crypto","createHash","update","password","digest","logear","changeLoginStatus","setUser","that","history","axios","post","user","then","response","status","push","catch","error","console","log","tailLayout","wrapperCol","offset","span","labelCol","onFinish","Item","name","label","rules","required","message","Password","htmlType","SignUp","showModal","visible","handleOk","e","handleCancel","onRegister","password2","bancos","email","depositaccount","bankaccount","prefaccbank","redirecturi","shopid","min","getFieldValue","validator","rule","value","test","iban","m","replace","toUpperCase","match","ch","charCodeAt","reduce","total","curr","Number","validateIbanChecksum","Promise","resolve","reject","Group","valuePropName","noStyle","options","_","onClick","title","onOk","onCancel","AccountsBBVA","className","cuenta","balances","map","item","balanceAmount","amount","currency","setTransactions","resourceId","bank","AccountsSantander","AccountsManager","showSpinner","banco","cuentas","showSpin","data","accs","index","Bank","auth","id","authBanco","show","BankTransactions","reembolso","prevTwenty","nextTwenty","tx","page","buttonLeft","buttonRight","rid","txid","transactionAmount","destacc","debtorAccount","credname","debtorName","newpage","length","get","creditorAccount","transactionId","remittanceInformationStructured","valueDate","creditorName","remittanceInformationUnstructured","disabled","BanksManager","banks","showbanks","txBank","showvar","Transactions","debtor","undefined","date","Main","transactions","accounts","acc","Payment","logout","onSelect","serviceSVA","afterpayment","bankid","storeid","msg","service","App","handleCookieOk","cookies","set","cookiesvisible","handleCookieCancel","showUnlogButton","username","String","src","logo","path","component","render","withCookies","Boolean","hostname","ReactDOM","CookiesProvider","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7f85efd6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react';\r\nimport {Button} from 'antd';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nclass Home extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount(){\r\n    if(JSON.parse(this.props.logged)){\r\n      window.location.href=\"/main\"\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState, snapshot){\r\n    if ((this.props.logged !== prevProps.logged)&&(JSON.parse(this.props.logged))){\r\n        window.location.href=\"/main\"\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n        <div>\r\n        <div>\r\n        <Button\r\n          type=\"primary\"\r\n        >\r\n            <Link to=\"/login\">\r\n            Log-in\r\n            </Link>\r\n        </Button>\r\n        </div>\r\n        <div>\r\n        <Button\r\n          type=\"primary\"\r\n        >\r\n            <Link to=\"/register\">\r\n            Create account\r\n            </Link>\r\n        </Button>\r\n        </div>\r\n        </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport { Form, Input, Button} from 'antd';\r\nimport crypto  from 'crypto';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nclass Login extends React.Component{\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.onLogin = this.onLogin.bind(this);\r\n    this.state = {errorpwd:\"\"};\r\n  }\r\n\r\n  onLogin(values){\r\n    //crypto.createHash('sha256').update(values.password,\"base64\").digest('base64');\r\n    this.setState({errorpwd:\"\"});\r\n    var hashed_password = crypto.createHash('sha256').update(values.password).digest('base64');\r\n    var logear=this.props.changeLoginStatus;\r\n    var setUser=this.props.setUser;\r\n    var that=this;\r\n    var {history} = this.props;\r\n    axios.post('/login', {\r\n      user: values.user,\r\n      password: hashed_password\r\n    })\r\n    .then((response) => {\r\n      if(response.status!==200){\r\n          that.setState({errorpwd:\"An error has ocurred, try again later.\"});\r\n          logear(false);\r\n      } else {\r\n          logear(true);\r\n          setUser(values.user);\r\n          history.push(\"/main\");\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(\"Error\");\r\n      that.setState({errorpwd:\"An error has ocurred, try again later.\"});\r\n    });\r\n  }\r\n\r\n  render(){\r\n    const layout = {\r\n        labelCol: {\r\n          span: 12,\r\n        },\r\n        wrapperCol: {\r\n          span: 12,\r\n        },\r\n      };\r\n      const tailLayout = {\r\n        wrapperCol: {\r\n          offset: 7,\r\n          span: 17,\r\n        },\r\n      };\r\n    return(\r\n      <div>\r\n        <Form {...layout} onFinish={this.onLogin}>\r\n        <Form.Item name=\"user\" label=\"User\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your password',\r\n            },\r\n          ]}\r\n        >\r\n        <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Log-in\r\n          </Button>\r\n          <Button\r\n            type=\"primary\">\r\n            <Link to=\"/\">\r\n            Return\r\n            </Link>\r\n          </Button>\r\n        </Form.Item>\r\n        </Form>\r\n        <div>{this.state.errorpwd}</div>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Form, Input, Button, Checkbox, Modal, Radio} from 'antd';\r\nimport crypto  from 'crypto';\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nclass SignUp extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.onRegister = this.onRegister.bind(this);\r\n    this.showModal = this.showModal.bind(this);\r\n    this.handleOk = this.handleOk.bind(this);\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n    this.state = {errorpwd:\"\",logged:false,visible:false};\r\n  }\r\n\r\n  onRegister(values){\r\n    if(values.password===values.password2){\r\n      this.setState({errorpwd:\"\"});\r\n      axios.post('/register', {\r\n        user: values.user,\r\n        password: crypto.createHash('sha256').update(values.password).digest('base64'),\r\n        bancos: values.bancos,\r\n        email: values.email,\r\n        depositaccount:values.bankaccount,\r\n        prefaccbank:values.prefaccbank,\r\n        redirecturi:values.redirecturi,\r\n        shopid:values.shopid\r\n      })\r\n      .then(function (response) {\r\n        if(response.status!==200){\r\n          this.setState({errorpwd:\"An error has ocurred, try again later.\"});\r\n        } else {\r\n            window.location.href=\"/login\";\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        this.setState({errorpwd:\"An error has ocurred, try again later.\"});\r\n        console.log(error);\r\n      });\r\n    } else{\r\n      this.setState({errorpwd:\"The passwords don't match.\"});\r\n    }\r\n  }\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  handleCancel = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  render(){\r\n    const layout = {\r\n        labelCol: {\r\n          span: 12,\r\n        },\r\n        wrapperCol: {\r\n          span: 12,\r\n        },\r\n    };\r\n    const tailLayout = {\r\n        wrapperCol: {\r\n          offset: 7,\r\n          span: 17,\r\n    },\r\n    };\r\n    return(\r\n        <div>\r\n        <Form {...layout} onFinish={this.onRegister}>\r\n        <Form.Item name=\"user\" label=\"User\" rules={[{ required: true}]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input a password, minimum 8 characters.',\r\n              min:8\r\n            },\r\n          ]}\r\n        >\r\n        <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item\r\n            label=\"Repeat your password:\"\r\n            name=\"password2\"\r\n            rules={[\r\n            {\r\n              required: true,\r\n              message: 'Please input your password again',\r\n            },\r\n          ]}\r\n        >\r\n        <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item name=\"email\" label=\"E-mail\" rules={[{ required: true }]}>\r\n          <Input type=\"email\" />\r\n        </Form.Item>\r\n        <Form.Item name=\"bankaccount\" label=\"Deposit account\" rules={[{ required: true, message :\"This is not a valid IBAN\"},\r\n          ({ getFieldValue }) => ({\r\n            validator(rule, value) {\r\n              //IBAN checkers https://stackoverflow.com/questions/44656264/iban-regex-design\r\n              function smellsLikeIban(str){\r\n                return /^([A-Z]{2}[ \\-]?[0-9]{2})(?=(?:[ \\-]?[A-Z0-9]){9,30}$)((?:[ \\-]?[A-Z0-9]{3,5}){2,7})([ \\-]?[A-Z0-9]{1,3})?$/.test(str);\r\n                }\r\n            \r\n              function validateIbanChecksum(iban) {       \r\n                  const ibanStripped = iban.replace(/[^A-Z0-9]+/gi,'') //keep numbers and letters only\r\n                                          .toUpperCase(); //calculation expects upper-case\r\n                  const m = ibanStripped.match(/^([A-Z]{2})([0-9]{2})([A-Z0-9]{9,30})$/);\r\n                  if(!m) return false;\r\n                  \r\n                  const numbericed = (m[3] + m[1] + m[2]).replace(/[A-Z]/g,function(ch){\r\n                                        //replace upper-case characters by numbers 10 to 35\r\n                                        return (ch.charCodeAt(0)-55); \r\n                                    });\r\n                  //The resulting number would be to long for javascript to handle without loosing precision.\r\n                  //So the trick is to chop the string up in smaller parts.\r\n                  const mod97 = numbericed.match(/\\d{1,7}/g)\r\n                                          .reduce(function(total, curr){ return Number(total + curr)%97},'');\r\n            \r\n                  return (mod97 === 1);\r\n                };\r\n              if (smellsLikeIban(value)&&validateIbanChecksum(value)) {\r\n                return Promise.resolve();\r\n              }\r\n              return Promise.reject('This is not a valid IBAN');\r\n            },\r\n          })\r\n        ]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"prefaccbank\" label=\"Account bank\" rules={[{ required: true, message :\"Please, select a bank\"}]}>\r\n        <Radio.Group>\r\n          <Radio value=\"BBVA\">BBVA</Radio>\r\n          <Radio value=\"Santander\">Santander</Radio>\r\n        </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item name=\"shopid\" label=\"Payment identifier\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"redirecturi\" label=\"Your redirection URI\" rules={[{ required: true }]}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item label=\"Banks\">\r\n        <Form.Item name=\"bancos\"  valuePropName=\"checked\" noStyle>\r\n        <Checkbox.Group options={['BBVA', 'Santander']} />\r\n        </Form.Item>\r\n        </Form.Item>\r\n        \r\n        <Form.Item\r\n          name=\"agreement\"\r\n          valuePropName=\"checked\"\r\n          rules={[\r\n            {\r\n              validator: (_, value) =>\r\n              value ? Promise.resolve() : Promise.reject('You have to accept our privacy policy'),\r\n            },\r\n          ]}\r\n          {...tailLayout}>\r\n        <div><span><Checkbox>\r\n        You have to review and accept our\r\n        </Checkbox><a onClick={this.showModal}>privacy policy</a></span>\r\n        </div>\r\n      \r\n      </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Create account\r\n          </Button>\r\n          <Button\r\n            type=\"primary\">\r\n            <Link to=\"/\">\r\n            Return\r\n            </Link>\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      <div>{this.state.errorpwd}</div>\r\n      <Modal\r\n          title=\"Privacy policy\"\r\n          visible={this.state.visible}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n        >\r\n          <h2>Privacy policy</h2>\r\n          <p>This site uses cookies and stores some information in order to provide its service.\r\n            By accepting this privacy policy you give your consent for the next treatments:<br/>\r\n            -Store the banking information you wish to access through this webpage<br/>\r\n            -Use cookies in order to allow payments and other services to take place<br/>\r\n            More precisely, the information stored will be the information you provide during registration,\r\n             and the accounts and movements of these accounts that you access throught this platform.<br/>\r\n            This information will be stored and will not used for any other intents and purposes.<br/>\r\n            If you feel any of this is unlawful according to GDPR regulation, you may contact the <a href=\"https://www.aepd.es/es\">AEPD</a> (ES).\r\n          </p>\r\n      </Modal>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default SignUp;","import React from 'react';\r\nimport {Row,Col, Button} from 'antd';\r\n\r\nclass AccountsBBVA extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n//this.props.setTransactions\r\n  render(){\r\n    return(\r\n      <div className=\"ListComponent\">\r\n        <Row type=\"flex\">\r\n            <Col><p>IBAN:{this.props.cuenta.iban}</p> <p>Balances: {this.props.cuenta.balances.map((item)=>{return <span>{item.balanceAmount.amount} {item.balanceAmount.currency}</span> })}</p></Col>\r\n            <Col><Button type=\"primary\" onClick={()=>{this.props.setTransactions(false,this.props.cuenta.resourceId,this.props.cuenta.iban,\"Account transactions\",this.props.bank)}}>Show transactions</Button></Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default AccountsBBVA;","import React from 'react';\r\nimport {Row,Col, Button} from 'antd';\r\n\r\nclass AccountsSantander extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n//this.props.setTransactions\r\n  render(){\r\n    return(\r\n      <div className=\"ListComponent\">\r\n        <Row type=\"flex\">\r\n            <Col><p>IBAN:{this.props.cuenta.iban}</p> <p>Balances: {this.props.cuenta.balances[0].balanceAmount.amount} {this.props.cuenta.balances[0].balanceAmount.currency}</p></Col>\r\n            <Col><Button type=\"primary\" onClick={()=>{this.props.setTransactions(false,this.props.cuenta.resourceId,this.props.cuenta.iban,\"Account transactions\",this.props.bank)}}>Show transactions</Button></Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default AccountsSantander;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Spin } from 'antd';\r\nimport AccountsBBVA from \"./AccountsBBVA.js\";\r\nimport AccountsSantander from \"./AccountsSantander.js\";\r\n\r\nclass AccountsManager extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.showSpinner= this.showSpinner.bind(this);\r\n    this.state = {banco:\"\",cuentas:[],error:\"\",showSpin:true};\r\n  }\r\n  \r\n  componentDidMount(){\r\n    var that=this;\r\n    axios.post('/accounts', {\r\n      bank: that.props.banco\r\n    })\r\n    .then((response) => {\r\n      if(response.status!==200){\r\n          that.setState({error:\"An error has ocurred, try again later.\",showSpin:false});\r\n      } else {\r\n          that.setState({cuentas:response.data.accs,showSpin:false})\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      that.setState({error:\"An error has ocurred, try again later.\",showSpin:false});\r\n    });\r\n  }\r\n\r\n  showSpinner(){\r\n    if(this.state.showSpin){\r\n      return(<Spin />)\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n        <div>\r\n        {this.state.error}\r\n        {this.showSpinner()}\r\n        {this.state.cuentas.map((item,index)=>{\r\n            \r\n              if(this.props.banco===\"BBVA\"){\r\n                return(<AccountsBBVA cuenta={item} bank={this.props.banco} setTransactions={this.props.setTransactions}/>)\r\n              } else if(this.props.banco===\"Santander\"){\r\n                return(<AccountsSantander cuenta={item} bank={this.props.banco} setTransactions={this.props.setTransactions}/>)\r\n              } else {\r\n                return(null)\r\n              }\r\n        })}\r\n        </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default AccountsManager;","import React from 'react';\r\nimport {Button} from 'antd';\r\nimport AccountsManager from './AccountsManager';\r\n\r\nclass Bank extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  show(auth,id){\r\n    if(!auth){\r\n      return(\r\n        <div>\r\n          <Button type=\"primary\" onClick={()=>{this.authBanco(id)}}>\r\n          Log-in to the bank\r\n          </Button>\r\n        </div>\r\n      )\r\n    } else {\r\n      return(\r\n        <div>\r\n          <AccountsManager banco={id} setTransactions={this.props.setTransactions}/>\r\n        </div>\r\n      )\r\n    }\r\n  \r\n  }\r\n\r\n  authBanco(id){\r\n    window.location.href=`/bankAuth?bank=${id}`\r\n  }\r\n\r\n  //Paginaci√≥n en server, cada vez que pulsas, las siguientes 20\r\n  render(){\r\n    return(\r\n        <div>\r\n        {this.props.id}\r\n        {this.show(this.props.auth,this.props.id)}\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Bank;","import React from 'react';\r\nimport axios from 'axios';\r\nimport {Button, Spin} from 'antd';\r\n\r\nclass BankTransactions extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.reembolso = this.reembolso.bind(this);\r\n    this.prevTwenty = this.prevTwenty.bind(this);\r\n    this.nextTwenty = this.nextTwenty.bind(this);\r\n    this.showSpinner= this.showSpinner.bind(this);\r\n    this.state = {errorpwd:\"\",tx:[],page:0,buttonLeft:false, buttonRight:false,showSpin:true};\r\n  }\r\n\r\n  componentDidMount(){\r\n    var that=this;\r\n    axios.post('/movements', {\r\n      bank: this.props.bank,\r\n      iban: this.props.rid\r\n    }).then((response) => {\r\n        if(response.status===200){\r\n            that.setState({tx:response.data.tx,errorpwd:\"\",showSpin:false});\r\n        } else {\r\n            that.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error\");\r\n        that.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n      });\r\n  }\r\n\r\n  //TODO: Could just send the id and the bank-end should search for it in the DB\r\n  reembolso(item){\r\n    this.setState({errorpwd:\"\"});\r\n    var that=this;\r\n    var user=this.props.user;\r\n    axios.post('/pisp', {\r\n      user: user,\r\n      txid: item.id,\r\n      amount:item.transactionAmount.amount,\r\n      destacc:item.debtorAccount.iban,\r\n      credname:item.debtorName\r\n    })\r\n    .then((response) => {\r\n      if(response.status!==200){\r\n          that.setState({errorpwd:\"The reinbursement could not be made, please try again.\",showSpin:false});\r\n      } else {\r\n          that.setState({errorpwd:\"Reinbursement successful!\",showSpin:false});\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(\"Error\");\r\n      that.setState({errorpwd:\"The reinbursement could not be made, please try again.\",showSpin:false});\r\n    });\r\n  }\r\n\r\n  prevTwenty(){\r\n    var that=this;\r\n    var page = this.state.page;\r\n    that.setState({tx:[],showSpin:true});\r\n    if(page>0){\r\n      var newpage=page-1;\r\n      var offset = (page-1)*20;\r\n      axios.post(\"/getmovements\", {\r\n        bank: this.props.bank,\r\n        iban: this.props.rid,\r\n        offset: offset\r\n      }).then((response) => {\r\n        if(response.status===200){\r\n            that.setState({tx:response.data.tx,errorpwd:\"\",page:newpage,showSpin:false});\r\n        } else {\r\n            that.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error\");\r\n        that.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n      });\r\n    } else {\r\n      this.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n    }\r\n  }\r\n  \r\n  //TODO: Should disable the next button when there are no more transactions\r\n  nextTwenty(){\r\n    var that=this;\r\n    that.setState({tx:[],showSpin:true});\r\n    if(this.state.tx.length>=20){\r\n      var page = this.state.page;\r\n      var newpage=page+1;\r\n      var offset = (page+1)*20;\r\n      axios.get(\"/getmovements\", {\r\n        bank: this.props.bank,\r\n        iban: this.props.rid,\r\n        offset: offset\r\n      }).then((response) => {\r\n        if(response.status===200){\r\n            if(response.data.tx.length>0){\r\n              that.setState({tx:response.data.tx,errorpwd:\"\",page:newpage});\r\n            } else {\r\n              that.setState({errorpwd:\"There are no more transactions\",showSpin:false});\r\n            }\r\n        } else {\r\n            that.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error\");\r\n        that.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n      });\r\n    } else {\r\n      this.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n    }\r\n  }\r\n\r\n  show(item){\r\n    if(this.props.bank===\"BBVA\"){\r\n      if(item.creditorAccount.iban===this.props.iban){\r\n      return(\r\n        <div>\r\n          <p>Transaction ID: {item.transactionId}<br/> Concept: {item.remittanceInformationStructured}<br/> Amount: {item.transactionAmount.amount}<br/> Date: {item.valueDate}<br/> Debtor: {item.debtorName}<br/> Creditor: {item.creditorName} </p>\r\n          <Button type=\"primary\" onClick={()=>{this.reembolso(item)}}>\r\n          Reimburse\r\n          </Button>\r\n        </div>\r\n        )\r\n      }else{\r\n        return(\r\n          <div>\r\n            <p>Transaction ID: {item.transactionId}<br/> Concept: {item.remittanceInformationStructured}<br/> Amount: {item.transactionAmount.amount}<br/> Date: {item.valueDate}<br/> Debtor: {item.debtorName}<br/> Creditor: {item.creditorName} </p>\r\n          </div>\r\n        )\r\n      }\r\n    } else if(this.props.bank===\"Santander\") {\r\n      return(\r\n        <div>\r\n          <p>Concept: {item.remittanceInformationUnstructured}<br/> Amount: {item.transactionAmount.amount}<br/> Date: {item.valueDate}</p>\r\n        </div>\r\n      )\r\n    } else {\r\n      return(null)\r\n    }\r\n    \r\n  }\r\n\r\n  showSpinner(){\r\n    if(this.state.showSpin){\r\n      return(<Spin />)\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n        <div>\r\n        <h1>Transacciones</h1>\r\n        {this.state.errorpwd}\r\n        <h2>Lista de transacciones:</h2>\r\n        {this.showSpinner()}\r\n        {this.state.tx.map((item,index)=>{\r\n            return(\r\n                <div className=\"ListComponent\">\r\n                    {this.show(item)}\r\n                </div>   \r\n            )\r\n        })}\r\n        <div>\r\n          <Button type=\"primary\" disabled={this.state.page===0} onClick={()=>{this.prevTwenty()}}>\r\n            {'<'}\r\n          </Button>\r\n          {this.state.page}\r\n          <Button type=\"primary\" disabled={this.state.tx.length<20} onClick={()=>{this.nextTwenty()}}>\r\n            {'>'}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default BankTransactions;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Spin } from 'antd';\r\nimport Bank from './Bank';\r\nimport BankTransactions from './BankTransactions';\r\n\r\nclass BanksManager extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.show = this.show.bind(this);\r\n    this.showSpinner= this.showSpinner.bind(this);\r\n    this.setTransactions = this.setTransactions.bind(this);\r\n    this.state = {banks:[],showbanks:true,iban:\"\",rid:\"\",title:\"Accounts\",txBank:\"\",showSpin:true};\r\n  }\r\n\r\n  componentDidMount(){\r\n    var that=this;\r\n    axios.get('/banks').then((response) => {\r\n        if(response.status===200){\r\n            that.setState({banks:response.data.banks,showSpin:false});\r\n        } else {\r\n            that.setState({errorpwd:\"An error has ocurred, please try again later.\",showSpin:false});\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error\");\r\n      });\r\n  }\r\n\r\n  setTransactions(showvar,id,iban,title,bank){\r\n    this.setState({showbanks:showvar,rid:id,iban:iban,title:title,txBank:bank});\r\n  }\r\n  \r\n  show(showvar){\r\n    if(JSON.parse(showvar)){\r\n      return(this.state.banks.map((item,index)=>{\r\n        return(\r\n            <Bank id={item.bank} auth={item.auth} setTransactions={this.setTransactions}/>  \r\n        )\r\n      }))\r\n    } else{\r\n      return (<BankTransactions bank={this.state.txBank} rid={this.state.rid} iban={this.state.iban} setTransactions={this.setTransactions}/>)\r\n    }\r\n  }\r\n\r\n  showSpinner(){\r\n    if(this.state.showSpin){\r\n      return(<Spin />)\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  //Paginar en servidor, juntar los dos bancos\r\n  render(){\r\n    return(\r\n        <div>\r\n        <h1>{this.state.title}</h1>\r\n        {this.showSpinner()}\r\n        {this.show(this.state.showbanks)}\r\n        </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default BanksManager;","import React from 'react';\r\nimport axios from 'axios';\r\nimport {Button, Spin} from 'antd';\r\n\r\nclass Transactions extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.reembolso = this.reembolso.bind(this);\r\n    this.prevTwenty = this.prevTwenty.bind(this);\r\n    this.nextTwenty = this.nextTwenty.bind(this);\r\n    this.showSpinner= this.showSpinner.bind(this);\r\n    this.state = {errorpwd:\"\",tx:[],page:0,buttonLeft:false, buttonRight:false,showSpin:true};\r\n  }\r\n\r\n  componentDidMount(){\r\n    var that=this;\r\n    axios.get('/tx?offset=0').then((response) => {\r\n        if(response.status===200){\r\n            that.setState({tx:response.data.tx,errorpwd:\"\",showSpin:false});\r\n        } else {\r\n            that.setState({errorpwd:\"An error has ocurred, try again later.\",showSpin:false});\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error\");\r\n        that.setState({errorpwd:\"An error has ocurred, try again later.\",showSpin:false});\r\n      });\r\n  }\r\n\r\n  //TODO: Could just send the id and the bank-end should search for it in the DB\r\n  reembolso(item){\r\n    this.setState({errorpwd:\"\"});\r\n    var that=this;\r\n    var user=this.props.user;\r\n    axios.post('/pisp', {\r\n      user: user,\r\n      txid: item.id,\r\n      amount:item.amount,\r\n      destacc:item.debtor\r\n    })\r\n    .then((response) => {\r\n      if(response.status===200){\r\n        window.location.href=response.data.href;\r\n        that.setState({errorpwd:\"\"});\r\n      }\r\n    })\r\n    .catch(function (error) {\r\n      console.log(\"Error\");\r\n      that.setState({errorpwd:\"The reinbursement has failed, try again later.\"});\r\n    });\r\n  }\r\n\r\n  prevTwenty(){\r\n    var that=this;\r\n    var page = this.state.page;\r\n    that.setState({tx:[],showSpin:true});\r\n    if(page>0){\r\n      var newpage=page-1;\r\n      var offset = (page-1)*20;\r\n      axios.get(`/tx?offset=${offset}`).then((response) => {\r\n        if(response.status===200){\r\n            that.setState({tx:response.data.tx,errorpwd:\"\",page:newpage,showSpin:false});\r\n        } else {\r\n            that.setState({errorpwd:\"An error has ocurred, try again later.\",showSpin:false});\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error\");\r\n        that.setState({errorpwd:\"An error has ocurred, try again later.\",showSpin:false});\r\n      });\r\n    } else {\r\n      this.setState({errorpwd:\"An error has ocurred, try again later.\",showSpin:false});\r\n    }\r\n  }\r\n  \r\n  show(item){\r\n    if(item.debtor!==undefined){\r\n      return(\r\n        <div>\r\n          <p> Transaction ID: {item.id}<br/> Amount: {item.amount}<br/> Date: {item.date}<br/> Debtor: {item.debtor}</p>\r\n          <Button type=\"primary\" onClick={()=>{this.reembolso(item)}}>\r\n          Reimburse\r\n          </Button>\r\n        </div>\r\n        )\r\n    }else{\r\n      return(\r\n        <div>\r\n          <p> Transaction ID: {item.id}<br/> Amount: {item.amount}<br/> Date: {item.date}</p>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  //TODO: Should disable the next button when there are no more transactions\r\n  nextTwenty(){\r\n    var that=this;\r\n    that.setState({tx:[],showSpin:true});\r\n    if(this.state.tx.length>=20){\r\n      var page = this.state.page;\r\n      var newpage=page+1;\r\n      var offset = (page+1)*20;\r\n      axios.get(`/tx?offset=${offset}`).then((response) => {\r\n        if(response.status===200){\r\n            if(response.data.tx.length>0){\r\n              that.setState({tx:response.data.tx,errorpwd:\"\",page:newpage,showSpin:false});\r\n            } else {\r\n              that.setState({errorpwd:\"There are no more transactions.\",showSpin:false});\r\n            }\r\n        } else {\r\n            that.setState({errorpwd:\"An error has ocurred, try again later.\",showSpin:false});\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error\");\r\n        that.setState({errorpwd:\"An error has ocurred, try again later.\",showSpin:false});\r\n      });\r\n    } else {\r\n      this.setState({errorpwd:\"An error has ocurred, try again later.\",showSpin:false});\r\n    }\r\n  }\r\n\r\n  showSpinner(){\r\n    if(this.state.showSpin){\r\n      return(<Spin />)\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n        <div>\r\n        <h1>Transactions</h1>\r\n        {this.state.errorpwd}\r\n        \r\n        <h2>Transaction list:</h2>\r\n        {this.showSpinner()}\r\n        {this.state.tx.map((item,index)=>{\r\n            return(\r\n                <div className=\"ListComponent\">\r\n                    {this.show(item)}\r\n                </div>   \r\n            )\r\n        })}\r\n        <div>\r\n          <Button type=\"primary\" disabled={this.state.page===0} onClick={()=>{this.prevTwenty()}}>\r\n            {'<'}\r\n          </Button>\r\n          {this.state.page}\r\n          <Button type=\"primary\" disabled={this.state.tx.length<20} onClick={()=>{this.nextTwenty()}}>\r\n            {'>'}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Transactions;","import React from 'react';\r\nimport {Button} from 'antd';\r\nimport BanksManager from './BanksManager';\r\nimport Transactions from './Transactions';\r\n\r\nclass Main extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.show = this.show.bind(this);\r\n    this.state = {transactions:false,accounts:false};\r\n  }\r\n\r\n    \r\ncomponentDidMount(){\r\n  if(JSON.parse(this.props.logged)){\r\n  } else {\r\n    window.location.href=\"/login\";\r\n  }\r\n}\r\n\r\ncomponentDidUpdate(prevProps, prevState, snapshot){\r\n  if ((this.props.logged !== prevProps.logged)&&(!(JSON.parse(this.props.logged)))){\r\n      window.location.href=\"/\"\r\n  }\r\n}\r\n\r\nshow(tx,acc){\r\n  if(tx){\r\n    return(\r\n      <div>\r\n        <Button type=\"primary\" onClick={()=>this.setState({transactions:false,accounts:false})}>\r\n        Return\r\n        </Button>\r\n        <Transactions user={this.props.user}/>\r\n      </div>\r\n    )\r\n  } else if (acc) {\r\n    return(\r\n      <div>\r\n        <Button type=\"primary\" onClick={()=>this.setState({transactions:false,accounts:false})}>\r\n        Return\r\n        </Button>\r\n        <BanksManager/>\r\n      </div>\r\n    )\r\n  } else {\r\n    return(\r\n      <div>\r\n        <Button type=\"primary\" onClick={()=>this.setState({transactions:true,accounts:false})}>\r\n        Transactions\r\n        </Button>\r\n        <Button type=\"primary\" onClick={()=>this.setState({transactions:false,accounts:true})}>\r\n        Accounts\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <p>{this.props.user}'s personal page</p>\r\n        {this.show(this.state.transactions,this.state.accounts)}\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport { Form,  Button, Radio, Layout} from 'antd';\r\nimport axios from 'axios';\r\n\r\n\r\nclass Payment extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.logout = this.logout.bind(this);\r\n    this.onSelect = this.onSelect.bind(this);\r\n    this.state = {serviceSVA:true,afterpayment:false,status:\"\",bankid:\"\",storeid:\"\",amount:\"\"};\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios.get(`/checkservice`).then(msg=>{\r\n      if(msg.data.service===\"SVA\"){\r\n        this.setState({serviceSVA:true});\r\n      } else if(msg.data.service===\"payment\"){\r\n        this.setState({serviceSVA:false});\r\n      }else if(msg.data.service===\"post\"){\r\n        this.setState({afterpayment:true,status:msg.data.status,bankid:msg.data.bankid,storeid:msg.data.storeid,amount:msg.data.amount});\r\n      } else {\r\n        axios.get(`/logout`);\r\n        window.location.href=\"/\"\r\n      }\r\n    }).catch(function (error) {\r\n      axios.get(`/logout`);\r\n      window.location.href=\"/\"\r\n    });\r\n  }\r\n\r\n  logout(){\r\n    if(this.state.afterpayment){\r\n      axios.get(`/endpayment`).then(msg=>{\r\n        window.location.href=msg.data.href\r\n      }).catch(function (error) {\r\n        console.log(\"Error\")\r\n        axios.get(`/logout`);\r\n        window.location.href=\"/\"\r\n      });\r\n    }else{\r\n      axios.get(`/logout?step=pay`).then(msg=>{\r\n        window.location.href=msg.data.href\r\n      }).catch(function (error) {\r\n        console.log(\"Error\")\r\n        axios.get(`/logout`);\r\n        window.location.href=\"/\"\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  onSelect(values){\r\n    this.setState({errorpwd:\"\"});\r\n    if(this.state.serviceSVA){\r\n      window.location.href=`/payment?bank=${values.bank}`;\r\n    } else {\r\n      window.location.href=`/payment`;\r\n    }\r\n  }\r\n\r\n  show(){\r\n    if(this.state.afterpayment){\r\n      if(this.state.status===\"success\"){\r\n        return(\r\n          <div>\r\n          <p>Welcome back to InstantPay!<br/>\r\n          The payment was a success!<br/>\r\n          Amount: {this.state.amount} plus any amount the bank may have charged<br/>\r\n          Bank payment identifier:{this.state.bankid}<br/>\r\n          Store payment identifier:{this.state.storeid}<br/><br/></p>\r\n          <Form  onFinish={this.onSelect}>\r\n          <Form.Item>\r\n            <Button type=\"primary\" onClick={this.logout}>\r\n              End payment process\r\n            </Button>\r\n          </Form.Item>\r\n          </Form>\r\n          </div>\r\n        )\r\n      } else{\r\n        return(\r\n          <div>\r\n          <p>Welcome back to InstantPay!<br/>\r\n          The payment could not be executed<br/>\r\n          Bank payment identifier:{this.state.bankid}<br/>\r\n          Store payment identifier:{this.state.storeid}<br/><br/></p>\r\n          <Form  onFinish={this.onSelect}>\r\n          <Form.Item>\r\n            <Button type=\"primary\" onClick={this.logout}>\r\n              End payment process\r\n            </Button>\r\n          </Form.Item>\r\n          </Form>\r\n          </div>\r\n        )\r\n      }\r\n    }else{\r\n      if(this.state.serviceSVA){\r\n        return(\r\n          <div>\r\n          <p>Welcome to InstantPay!<br/>\r\n          The payment you're about to execute is executed in a matter of minutes<br/>\r\n          This platform does not charge you for the service it provides<br/>\r\n          In order to proceed, choose your bank, check the privacy policies<br/>\r\n          and press submit.<br/><br/>\r\n          In case you need to contact us, use our email: instantpay@instantpay.es<br/>\r\n          Or our physical address: placeholder<br/>\r\n          In Spain, the local authority is the BDE: <a href=\"https://www.bde.es/bde/es/\">BDE</a><br></br>\r\n          This webpage uses cookies in order to provide the payment service,<br/>\r\n          these cookies will be deleted once the payment has been processed,<br/>\r\n          but some information, such as your bank account, will be stored in order<br/>\r\n          to allow the store to reimburse you.<br/>\r\n          If you do not agree with these requirements, feel free to press cancel,<br/>\r\n          you will be redirected back to the store. If you feel this is unlawful<br/>\r\n          based on the GDPR, you can contact the <a href=\"https://www.aepd.es/es\">AEPD</a> (ES).</p>\r\n          <Form  onFinish={this.onSelect}>\r\n          <Form.Item name=\"bank\" label=\"Bank\" rules={[{ required: true, message :\"Please, select a bank\"}]}>\r\n          <Radio.Group>\r\n            <Radio value=\"BBVA\">BBVA</Radio>\r\n            <Radio value=\"Santander\">Santander</Radio>\r\n          </Radio.Group>\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Submit\r\n            </Button>\r\n            <Button type=\"primary\" onClick={this.logout}>\r\n              Cancel\r\n            </Button>\r\n          </Form.Item>\r\n          </Form>\r\n          </div> \r\n        )\r\n      } else {\r\n        return(\r\n          <div>\r\n          <p>Welcome to InstantPay!<br/>\r\n          The payment you're about to execute is executed in a matter of minutes<br/>\r\n          This platform does not charge you for the service it provides<br/>\r\n          In order to proceed, check the privacy policies and press submit.<br/><br/>\r\n          This webpage uses cookies in order to provide the payment service,<br/>\r\n          these cookies will be deleted once the payment has been processed,<br/>\r\n          but some information, such as your bank account, will be stored in order<br/>\r\n          to allow the store to reimburse you.<br/>\r\n          If you do not agree with these requirements, feel free to press cancel,<br/>\r\n          you will be redirected back to the store. If you feel this is unlawful<br/>\r\n          based on the GDPR, you can contact the <a href=\"https://www.aepd.es/es\">AEPD</a> (ES).</p>\r\n          <Form  onFinish={this.onSelect}>\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Submit\r\n            </Button>\r\n            <Button type=\"primary\" onClick={this.logout}>\r\n              Cancel\r\n            </Button>\r\n          </Form.Item>\r\n          </Form>\r\n          </div>\r\n        )\r\n      }\r\n    } \r\n  }\r\n\r\n  render(){\r\n    const layout = {\r\n        labelCol: {\r\n          span: 12,\r\n        },\r\n        wrapperCol: {\r\n          span: 12,\r\n        },\r\n    };\r\n    const tailLayout = {\r\n        wrapperCol: {\r\n          offset: 7,\r\n          span: 17,\r\n    },\r\n    };\r\n    return(\r\n      <Layout>\r\n      {this.show()}\r\n      <div>{this.state.errorpwd}</div>\r\n      </Layout>\r\n    );\r\n  } \r\n}\r\n\r\nexport default Payment;","import React from 'react';\nimport logo from './logo.png';\nimport './App.css';\nimport { Row, Col, Button, Modal} from 'antd';\nimport { BrowserRouter as Router , Switch, Route} from 'react-router-dom';\nimport Home from './Components/Home';\nimport Login from './Components/Login';\nimport SignUp from './Components/SignUp';\nimport Main from './Components/Main';\nimport Payment from './Components/Payment';\nimport { withCookies, Cookies } from 'react-cookie';\nimport axios from 'axios';\n\nclass App extends React.Component{\n  constructor(props) {\n    super(props);\n    const { cookies } = props;\n    this.changeLoginStatus = this.changeLoginStatus.bind(this);\n    this.setUser = this.setUser.bind(this);\n    this.showModal = this.showModal.bind(this);\n    this.handleOk = this.handleOk.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleCookieOk = this.handleCookieOk.bind(this);\n    this.handleCookieCancel = this.handleCookieCancel.bind(this);\n    this.showUnlogButton = this.showUnlogButton.bind(this);\n    this.state = {logged:cookies.get('logged') || false, username:cookies.get('username') || '',error:\"\",visible: false,cookiesvisible:cookies.get('cookies') || true};\n  }\n\n  componentDidMount(){\n    var that = this;\n    axios.get(`/logged`).catch(function (error) {\n      const { cookies } = that.props;\n        that.changeLoginStatus(false);\n        that.setUser(\"\");\n    });\n  }\n\n  changeLoginStatus(status){\n    const { cookies } = this.props;\n    this.setState({logged:status});\n    cookies.set(\"logged\", status);\n  }\n\n  setUser(user){\n    const { cookies } = this.props;\n    this.setState({username:String(user)});\n    cookies.set(\"username\", user);\n  }\n\n  showUnlogButton(){\n   if(JSON.parse(this.state.logged)){\n     return(\n      <Row>\n        <Col><Button type =\"primary\" onClick={this.showModal}>Configuration</Button></Col>\n        <Col><Button type =\"primary\" onClick={\n        ()=>{\n        axios.get(`/logout`).then((response) => {\n          if(response.status===200){\n            this.changeLoginStatus(false);\n            this.setUser(\"\");\n          } else{\n            this.setState({error:\"Log-out failed!\"});\n          }\n        })\n        .catch(function (error) {\n          this.setState({error:\"Log-out failed!\"});\n        });\n        }}>Log-out</Button></Col>\n      </Row>\n     )\n   } else {\n     return null\n   }\n  }\n\n  showModal = () => {\n    this.setState({\n      visible: true,\n    });\n  };\n\n  handleOk = e => {\n    console.log(e);\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleCancel = e => {\n    console.log(e);\n    this.setState({\n      visible: false,\n    });\n  };\n\n  //TODO: Should modify back-end in order to use cookies\n  handleCookieOk = e => {\n    console.log(e);\n    const { cookies } = this.props;\n    cookies.set(\"cookies\", false);\n    this.setState({\n      cookiesvisible: false,\n    });\n  };\n\n  //TODO: Should modify back-end in order to not use non-fundamental cookies\n  handleCookieCancel = e => {\n    console.log(e);\n    this.setState({\n      cookiesvisible: false,\n    });\n  };\n\n  render(){\n    return(\n      <div className=\"App\">\n        <Row className=\"Header\">\n          <Col span={1}></Col>\n          <Col ><img className =\"Logo\" src={logo}/></Col>\n          <Col ><h1>InstantPay</h1></Col>\n          <Col >Welcome to the future of banking!</Col>\n          <Col >{this.state.error}</Col>\n          <Col span={4}>{this.showUnlogButton()}</Col>\n          <Col span={1}></Col>\n        </Row>\n        <header className=\"App-header\">\n          <Router>\n          <Switch>\n            <Route path=\"/payments\" component={Payment}/>\n            <Route path=\"/main\" render={(props) => <Main {...props} logged={this.state.logged} user={this.state.username}/>}/>\n            <Route path=\"/login\" render={(props) => <Login {...props} changeLoginStatus={this.changeLoginStatus} setUser={this.setUser}/>}/>\n            <Route path=\"/register\" component={SignUp}/>\n            <Route path=\"/\" render={(props) => <Home {...props} logged={this.state.logged}/>}/>\n          </Switch>\n        </Router>\n        </header>\n        <Modal\n          title=\"Configuration\"\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleCancel}\n        >\n          <p>Form that allows to modify account data</p>\n          <p>Button that allows to delete the account after asking for the password</p>\n          <p>Link to the privacy policy</p>\n        </Modal>\n        <Modal\n          title=\"Cookies\"\n          visible={JSON.parse(this.state.cookiesvisible)}\n          onOk={this.handleCookieOk}\n          onCancel={this.handleCookieCancel}\n        >\n          <p>This service uses cookies in order to make it easier to use.</p>\n          <p>You can check our <a>Privacy policy</a> in order to obtain more information.</p>\n          <p>Press OK if you allow the use of cookies.</p>\n        </Modal>\n      </div>\n    );\n  } \n}\n\nexport default withCookies(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'antd/dist/antd.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { CookiesProvider } from 'react-cookie';\n\nReactDOM.render(\n  <CookiesProvider>\n    <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </CookiesProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}